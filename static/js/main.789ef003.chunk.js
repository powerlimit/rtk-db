(this.webpackJsonpdev2dev=this.webpackJsonpdev2dev||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchUsers",(function(){return E})),n.d(r,"addUser",(function(){return _})),n.d(r,"editUser",(function(){return D})),n.d(r,"removeUser",(function(){return R}));var c={};n.r(c),n.d(c,"fetchTodos",(function(){return M})),n.d(c,"addTodo",(function(){return V})),n.d(c,"editTodo",(function(){return Q})),n.d(c,"removeTodo",(function(){return J}));var a,s=n(0),o=n.n(s),i=n(17),u=n.n(i),d=(n(73),n(74),n(75),n(24)),l=n(12),j=n(3),O=n(53),f="https://my-json-server.typicode.com/powerlimit/rtk-db",b=Object(O.createApi)({reducerPath:"todoAPI",baseQuery:Object(O.fetchBaseQuery)({baseUrl:f}),tagTypes:["Todos"],endpoints:function(e){return{fetchTodos:e.query({query:function(e){return{url:"/todos",params:e}},providesTags:function(){return["Todos"]},keepUnusedDataFor:10}),fetchTodoById:e.query({query:function(e){return{url:"/todos/".concat(e)}}}),addTodos:e.mutation({query:function(e){return{url:"/todos",method:"POST",body:e}},invalidatesTags:function(){return["Todos"]}}),editTodos:e.mutation({query:function(e){return{url:"/todos/".concat(e.id),method:"PUT",body:e}},invalidatesTags:function(){return["Todos"]}}),removeTodos:e.mutation({query:function(e){return{url:"/todos/".concat(e),method:"DELETE"}},invalidatesTags:function(){return["Todos"]}})}}}),h=b.useFetchTodosQuery,p=b.useAddTodosMutation,v=b.useEditTodosMutation,x=b.useRemoveTodosMutation,m=n(2),y=n(8),T=n.n(y),g=n(13),w=n(28),S=n(4),C=n(65),k=n.n(C).a.create({baseURL:f}),E=Object(j.createAsyncThunk)("user/fetchUsers",function(){var e=Object(g.a)(T.a.mark((function e(t,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/users",{params:{_page:t,_limit:5}});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),_=Object(j.createAsyncThunk)("user/addUser",function(){var e=Object(g.a)(T.a.mark((function e(t){var n,r,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t},e.next=3,k.post("/users",Object(m.a)({},n));case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(j.createAsyncThunk)("user/editUser",function(){var e=Object(g.a)(T.a.mark((function e(t){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("/users/".concat(t.id),Object(m.a)({},t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=Object(j.createAsyncThunk)("user/removeUser",function(){var e=Object(g.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("/users/".concat(t));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(j.createSlice)({name:"user",initialState:{page:1,users:[],loading:!1,error:null},reducers:{setPage:function(e,t){e.page=t.payload}},extraReducers:function(e){return e.addCase(E.pending.type,(function(e){e.loading=!0,e.error=null})).addCase(E.fulfilled.type,(function(e,t){e.loading=!1,e.users=t.payload})).addCase(E.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})).addCase(_.fulfilled.type,(function(e,t){e.users.push(t.payload)})).addCase(D.fulfilled.type,(function(e,t){var n=e.users.findIndex((function(e){return e.id===t.payload.id}));e.users[n]=t.payload})).addCase(R.fulfilled.type,(function(e,t){e.users=e.users.filter((function(e){return t.payload!==e.id}))}))}}),F=U.actions.setPage,A=U.reducer,N=n(49),H=function(e){return function(e){return function(t){return Object(j.isRejectedWithValue)(t)&&Object(N.b)("Error occurred"),e(t)}}},I=Object(j.configureStore)({reducer:Object(l.a)({user:A},b.reducerPath,b.reducer),middleware:function(e){return e().concat([b.middleware,H])}}),B=(I.getState(),n(107)),P=n(111),L=d.useSelector,q=n(15);!function(e){e.FETCH_TODOS="FETCH_TODOS",e.FETCH_TODOS_SUCCESS="FETCH_TODOS_SUCCESS",e.FETCH_TODOS_ERROR="FETCH_TODOS_ERROR",e.ADD_TODO="ADD_TODO",e.REMOVE_TODO="REMOVE_TODO",e.EDIT_TODO="EDIT_TODO"}(a||(a={}));var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return function(){var n=Object(g.a)(T.a.mark((function n(r){var c;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:a.FETCH_TODOS}),n.next=4,k.get("/todos",{params:{_page:e,_limit:t}});case 4:c=n.sent,r({type:a.FETCH_TODOS_SUCCESS,payload:c.data,page:e,limit:t}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r({type:a.FETCH_TODOS_ERROR,payload:n.t0.message});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},V=function(e){return Object(g.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.post("/todos",Object(m.a)({},e));case 2:case"end":return t.stop()}}),t)})))},Q=function(e){return function(){var t=Object(g.a)(T.a.mark((function t(n){var r,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.put("/todos/".concat(e.id),Object(m.a)({},e));case 2:r=t.sent,c=r.data,n({type:a.EDIT_TODO,payload:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(g.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.delete("/todos/".concat(e));case 2:n({type:a.REMOVE_TODO,payload:{id:e}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},W=Object(m.a)(Object(m.a)(Object(m.a)({},r),c),{},{setPage:F}),K=function(){var e=Object(d.useDispatch)();return Object(q.c)(W,e)},z=n(110),G=n(37),X=n(1),Y=function(){return Object(X.jsxs)(z.a,{activeKey:"/home",onSelect:function(e){return alert("selected ".concat(e))},children:[Object(X.jsx)(z.a.Item,{children:Object(X.jsx)(G.b,{className:"nav-link",to:"/",children:"Users"})}),Object(X.jsx)(z.a.Item,{children:Object(X.jsx)(G.b,{className:"nav-link",to:"/todos",children:"Todos"})})]})},Z=n(106),$=function(e){var t=e.children;return Object(X.jsxs)("div",{children:[Object(X.jsx)(Y,{}),Object(X.jsx)(Z.a,{className:"pt-5",children:t})]})},ee=n(109),te=function(e){var t=e.show,n=e.setShow,r=e.title,c=e.handleSave,a=e.value,o=e.isLoading,i=Object(s.useState)(a||""),u=Object(S.a)(i,2),d=u[0],l=u[1];return Object(X.jsxs)(ee.a,{show:t,onHide:function(){return n(!1)},children:[Object(X.jsx)(ee.a.Header,{closeButton:!0,children:Object(X.jsx)(ee.a.Title,{children:r})}),Object(X.jsx)(ee.a.Body,{children:Object(X.jsx)("input",{value:d,onChange:function(e){return l(e.currentTarget.value)},type:"text",placeholder:r,className:"form-control"})}),Object(X.jsxs)(ee.a.Footer,{children:[Object(X.jsx)(B.a,{variant:"secondary",onClick:function(){return n(!1)},children:"Close"}),Object(X.jsx)(B.a,{disabled:o,variant:"primary",onClick:function(){c(d),n(!1),l("")},children:"Save changes"})]})]})},ne=n(108),re=function(e){var t=e.user,n=Object(s.useState)(!1),r=Object(S.a)(n,2),c=r[0],a=r[1],o=Object(s.useState)(!1),i=Object(S.a)(o,2),u=i[0],d=i[1],l=K(),j=l.removeUser,O=l.editUser,f=function(){var e=Object(g.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.id);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(g.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(Object(m.a)(Object(m.a)({},t),{},{name:n}));case 2:d(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(X.jsxs)(P.a.Item,{children:[Object(X.jsxs)("div",{className:"d-flex align-items-center",children:[t.name,Object(X.jsxs)(ne.a,{className:"ms-auto","aria-label":"Basic example",children:[Object(X.jsx)(B.a,{onClick:function(){return d(!0)},variant:"info",children:"Edit"}),Object(X.jsx)(B.a,{onClick:function(){return a(!0)},variant:"danger",children:"Remove"})]})]}),Object(X.jsx)(te,{show:u,setShow:d,title:"Edit user",value:t.name,handleSave:b}),Object(X.jsxs)(ee.a,{show:c,onHide:function(){return a(!1)},children:[Object(X.jsx)(ee.a.Header,{closeButton:!0,children:Object(X.jsx)(ee.a.Title,{children:"Remove User"})}),Object(X.jsx)(ee.a.Body,{children:Object(X.jsxs)("h3",{children:["Are you sure you want to remove ",t.name,"?"]})}),Object(X.jsxs)(ee.a.Footer,{children:[Object(X.jsx)(B.a,{variant:"secondary",onClick:function(){return a(!1)},children:"Close"}),Object(X.jsx)(B.a,{variant:"primary",onClick:f,children:"Remove"})]})]})]})},ce=o.a.memo(re),ae=n(112),se=function(){var e=K().setPage,t=L((function(e){return e.user})).page;return Object(X.jsx)(ae.a,{className:"mt-3",children:Object(w.a)(Array(2)).map((function(n,r){return Object(X.jsx)(ae.a.Item,{onClick:function(){return e(r+1)},active:r+1===t,children:r+1},r)}))})},oe=function(){var e=Object(s.useState)(!1),t=Object(S.a)(e,2),n=t[0],r=t[1],c=L((function(e){return e.user})),a=c.error,o=c.loading,i=c.users,u=c.page,d=K(),l=d.fetchUsers,j=d.addUser;return Object(s.useEffect)((function(){l(u)}),[u]),Object(X.jsxs)($,{children:[Object(X.jsx)("h1",{className:"h1 mb-4",children:"Users"}),Object(X.jsx)(B.a,{variant:"primary",onClick:function(){return r(!0)},children:"Add user"}),o?Object(X.jsx)("div",{children:"Loading..."}):a?Object(X.jsx)("div",{children:a}):Object(X.jsx)(P.a,{className:"mt-4",children:i.map((function(e){return Object(X.jsx)(ce,{user:e},e.name)}))}),Object(X.jsx)(se,{}),Object(X.jsx)(te,{show:n,setShow:r,title:"Add user",handleSave:j})]})},ie=function(e){var t=e.todo,n=Object(s.useState)(!1),r=Object(S.a)(n,2),c=r[0],a=r[1],o=Object(s.useState)(!1),i=Object(S.a)(o,2),u=i[0],d=i[1],l=x(),j=Object(S.a)(l,1)[0],O=v(),f=Object(S.a)(O,1)[0],b=function(){var e=Object(g.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.id);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(g.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(Object(m.a)(Object(m.a)({},t),{},{completed:!t.completed}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(g.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(Object(m.a)(Object(m.a)({},t),{},{title:n}));case 2:d(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(X.jsxs)(P.a.Item,{variant:t.completed?"success":void 0,children:[Object(X.jsxs)("div",{className:"d-flex align-items-center",children:[t.title,Object(X.jsxs)(ne.a,{className:"ms-auto","aria-label":"Basic example",children:[Object(X.jsx)(B.a,{onClick:function(){return d(!0)},variant:"info",children:"Edit"}),Object(X.jsx)(B.a,{onClick:function(){return h()},variant:"secondary",children:"Complete"}),Object(X.jsx)(B.a,{onClick:function(){return a(!0)},variant:"danger",children:"Remove"})]})]}),Object(X.jsx)(te,{show:u,setShow:d,title:"Edit todo",value:t.title,handleSave:p}),Object(X.jsxs)(ee.a,{show:c,onHide:function(){return a(!1)},children:[Object(X.jsx)(ee.a.Header,{closeButton:!0,children:Object(X.jsx)(ee.a.Title,{children:"Remove Todo"})}),Object(X.jsx)(ee.a.Body,{children:Object(X.jsxs)("h3",{children:["Are you sure you want to remove ",t.title,"?"]})}),Object(X.jsxs)(ee.a.Footer,{children:[Object(X.jsx)(B.a,{variant:"secondary",onClick:function(){return a(!1)},children:"Close"}),Object(X.jsx)(B.a,{variant:"primary",onClick:b,children:"Remove"})]})]})]})},ue=o.a.memo(ie),de=function(){var e=Object(s.useState)(1),t=Object(S.a)(e,2),n=t[0],r=t[1],c=h({_page:n,_limit:10}),a=c.data,o=c.error,i=c.isLoading;return o?Object(X.jsx)("div",{children:"Error occurred"}):i?Object(X.jsx)("div",{children:"Loading..."}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(P.a,{className:"mt-4",children:a&&a.map((function(e){return Object(X.jsx)(ue,{todo:e},e.id)}))}),Object(X.jsx)(ae.a,{className:"mt-3",children:Object(w.a)(Array(2)).map((function(e,t){return Object(X.jsx)(ae.a.Item,{onClick:function(){return r(t+1)},active:t+1===n,children:t+1},t)}))})]})},le=function(){var e=p(),t=Object(S.a)(e,2),n=t[0],r=t[1],c=r.isLoading,a=r.error,o=Object(s.useState)(!1),i=Object(S.a)(o,2),u=i[0],d=i[1],l=function(){var e=Object(g.a)(T.a.mark((function e(t){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={title:t,completed:!1},e.next=3,n(r);case 3:d(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(X.jsxs)($,{children:[Object(X.jsx)("h1",{className:"h1 mb-4",children:"Todos"}),a&&Object(X.jsx)("div",{children:"Error occurred"}),Object(X.jsx)(B.a,{variant:"primary",onClick:function(){return d(!0)},children:"Add Todo"}),Object(X.jsxs)("div",{className:"row",children:[Object(X.jsx)("div",{className:"col-6",children:Object(X.jsx)(de,{})}),Object(X.jsx)("div",{className:"col-6",children:Object(X.jsx)(de,{})})]}),Object(X.jsx)(te,{show:u,setShow:d,title:"Add Todo",isLoading:c,handleSave:l})]})},je=n(11);n(103);var Oe=function(){return Object(X.jsx)(G.a,{children:Object(X.jsxs)(d.Provider,{store:I,children:[Object(X.jsx)(N.a,{}),Object(X.jsxs)(je.c,{children:[Object(X.jsx)(je.a,{exact:!0,path:"/todos",children:Object(X.jsx)(le,{})}),Object(X.jsx)(je.a,{exact:!0,path:"/",children:Object(X.jsx)(oe,{})})]})]})})},fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,113)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};u.a.render(Object(X.jsx)(o.a.StrictMode,{children:Object(X.jsx)(Oe,{})}),document.getElementById("root")),fe()},73:function(e,t,n){},75:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.789ef003.chunk.js.map